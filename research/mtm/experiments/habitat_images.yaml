# @package _global_
defaults:
    - override /datasets: habitat


tokenizers:
    images:
      _target_: research.mtm.tokenizers.vqgan.VqganTokenizer.create
      rel_config_path: "../third_party/latent-diffusion/models/first_stage_models/vq-f16/config.yaml"
      model_ckpt_path: "/checkpoint/yixinlin/mtm/latent-diffusion/models/first_stage_models/vq-f16/model.ckpt"
    # images:
    #   _target_: research.mtm.tokenizers.patchify.PatchifyTokenizer.create
    #   patch_size: 40
    actions:
      _target_: research.mtm.tokenizers.discrete_identity.DiscreteIdentity.create
      num_classes: 6

dataset:
    use_images: True

args:
    _target_: research.mtm.train.RunConfig
    batch_size: 1
    model_config:
      traj_length: 8
      norm: "none"
      n_enc_layer: 1
      n_dec_layer: 1
      n_head: 4
    log_every: 100
    print_every: 1000
    eval_every: 10000
    save_every: 10000
    mask_patterns: ["RANDOM", "ID", "FD", "GOAL"]

wandb:
    project: "habitat_images_12_6"
